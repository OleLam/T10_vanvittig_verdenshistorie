---
const { imgSrc, text } = Astro.props;
---

<article>
  <div class="episode-card">
    <img src={imgSrc} alt="Episode image" />
    <p>{text}</p>

    <!-- Audio pÃ¥ play -->
    <div class="lyd_play">
      <audio id="audio1" class="audio" preload="auto">
        <source src="/public/audio/NY-citat-midt-podcast.m4a" type="audio/mp3">
      </audio>
      <div class="lyd_play_1" id="playBtn1">
        <img src="/public/billeder/podcast_billeder/play_logo.svg" alt="play">
      </div>
    </div>
  </div>
</article>


<style>
@media (max-width: 480px) {
  .lyd_play_1 img {
    height: 24px;
    width: 24px;
  }

  .lyd_play_1 {
    display: flex;
    align-items: center;
  }
  
  img {
    width: 109.938px;
    height: 105.345px;
    border-radius: 20px;
  }


  h3{
    color: #582d32;

  }

  p{
    font-family: "Martel Sans";
    font-size: 0.75rem;
    color:#582d32;
    margin-bottom: 8px;
    margin-top: 8px;
  }
 
    }
</style>


  <!-- Script til afspilning -->
   <!-- querySelectorAll=alle play knapper kan afspille og pause -->
   <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Find alle play-knapper og lyd-elementer
      const playBtns = document.querySelectorAll('.lyd_play_1');
      const audios = document.querySelectorAll('audio'); // Find alle audio-elementer
  
      // Loop gennem alle play-knapperne
      playBtns.forEach((playBtn, index) => {
        const audio = audios[index]; // Find det tilsvarende audio-element
  
        // Event handler for play/pause
        playBtn.addEventListener('click', () => {
          if (audio.paused) {
            audio.play(); // Start afspilning
            playBtn.querySelector('img').src = '/public/billeder/podcast_billeder/pause_logo.svg'; // Skift ikon til pause
          } else {
            audio.pause(); // Pause afspilning
            audio.currentTime = 0; // Start lyden forfra
            playBtn.querySelector('img').src = '/public/billeder/podcast_billeder/play_logo.svg'; // Skift ikon til play
          }
        });
      });
    });
  </script>

